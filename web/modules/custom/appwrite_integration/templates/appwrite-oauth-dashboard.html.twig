{{ attach_library('appwrite_integration/appwrite-dashboard') }}

<div class="appwrite-oauth-dashboard">
  <div id="loading-message" class="message loading-message" style="display: none;"></div>
  <div id="error-message" class="message error-message" style="display: none;"></div>
  <div id="success-message" class="message success-message" style="display: none;"></div>
  
  <div class="dashboard-container">
    <div class="dashboard-header">
      <h1>Dashboard</h1>
      <button id="logout-btn" class="logout-button">Logout</button>
    </div>
    
    <div id="dashboard-content" class="dashboard-content">
      <!-- User info will be loaded here by JavaScript -->
    </div>

    {% if drupal_user %}
      <div class="dashboard-content user-info">
        <h2>Drupal User Sync Info</h2>
        <div class="user-details">
          <p><strong>Drupal User ID:</strong> {{ drupal_user.id }}</p>
          <p><strong>Roles:</strong> {{ drupal_user.roles|join(', ') }}</p>
          <p><strong>Stored Appwrite ID:</strong> {{ drupal_user.appwrite_id }}</p>
        </div>
      </div>
    {% endif %}
  </div>
</div>